class FRQuantityInput{constructor(self,decreaseText,increaseText){function Button(text,className){return this.button=document.createElement("button"),this.button.type="button",this.button.innerHTML=text,this.button.title=text,this.button.classList.add(className),this.button}this.input=document.createElement("input"),this.input.value=1,this.input.type="number",this.input.name="quantity",this.input.pattern="[0-9]+",this.input.setAttribute("aria-label","Product quantity"),this.decreaseText=decreaseText||"Decrease quantity",this.increaseText=increaseText||"Increase quantity",this.subtract=new Button(this.decreaseText,"sub"),this.add=new Button(this.increaseText,"add"),this.subtract.addEventListener("click",()=>this.change_quantity(-1)),this.add.addEventListener("click",()=>this.change_quantity(1)),self.appendChild(this.subtract),self.appendChild(this.input),self.appendChild(this.add)}change_quantity(change){let quantity=Number(this.input.value);isNaN(quantity)&&(quantity=1),quantity+=change,quantity=Math.max(quantity,1),this.input.value=quantity;let quantitydata=this.input.closest("form").querySelector("[data-quantity]");quantitydata&&quantitydata.setAttribute("data-quantity",quantity)}}!function(){let quantities=document.querySelectorAll(".quantity");quantities instanceof Node&&(quantities=[quantities]),quantities instanceof NodeList&&(quantities=[].slice.call(quantities)),quantities instanceof Array&&quantities.forEach(div=>div.quantity=new FRQuantityInput(div,"Down","Up"))}();